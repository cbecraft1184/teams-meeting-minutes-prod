christopher [ ~ ]$ az containerapp update \
  --name teams-minutes-app \
  --resource-group $RESOURCE_GROUP \
  --set-env-vars \
    "NODE_ENV=production" \
    "DATABASE_URL=$DATABASE_URL" \
    "POSTGRES_ADMIN_USER=$POSTGRES_ADMIN_USER" \
    "POSTGRES_ADMIN_PASSWORD=$POSTGRES_ADMIN_PASSWORD" \
    "POSTGRES_HOST=$POSTGRES_HOST" \
    "POSTGRES_DB=$POSTGRES_DB" \
    "MICROSOFT_APP_ID=$MICROSOFT_APP_ID" \
    "MICROSOFT_APP_PASSWORD=$MICROSOFT_APP_PASSWORD" \
    "GRAPH_CLIENT_ID=$GRAPH_CLIENT_ID" \
    "GRAPH_CLIENT_SECRET=$GRAPH_CLIENT_SECRET" \
    "GRAPH_TENANT_ID=$TENANT_ID" \
    "AZURE_OPENAI_ENDPOINT=$AZURE_OPENAI_ENDPOINT" \
    "AZURE_OPENAI_API_KEY=$AZURE_OPENAI_API_KEY" \
    "AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4o" \
    "APPINSIGHTS_INSTRUMENTATIONKEY=$APPINSIGHTS_INSTRUMENTATIONKEY" \
    "SESSION_SECRET=$SESSION_SECRET" \
    "USE_MOCK_SERVICES=true" \
    "PORT=8080"
{
  "id": "/subscriptions/17f080ac-db85-4c7d-a12e-fc88bf22b2bc/resourceGroups/rg-teams-minutes-demo/providers/Microsoft.App/containerapps/teams-minutes-app",
  "identity": {
    "type": "None"
  },
  "location": "East US 2",
  "name": "teams-minutes-app",
  "properties": {
    "configuration": {
      "activeRevisionsMode": "Single",
      "dapr": null,
      "identitySettings": [],
      "ingress": {
        "additionalPortMappings": null,
        "allowInsecure": false,
        "clientCertificateMode": null,
        "corsPolicy": null,
        "customDomains": null,
        "exposedPort": 0,
        "external": true,
        "fqdn": "teams-minutes-app.orangemushroom-b6a1517d.eastus2.azurecontainerapps.io",
        "ipSecurityRestrictions": null,
        "stickySessions": null,
        "targetPort": 5000,
        "traffic": [
          {
            "latestRevision": true,
            "weight": 100
          }
        ],
        "transport": "Auto"
      },
      "maxInactiveRevisions": 100,
      "registries": [
        {
          "identity": "",
          "passwordSecretRef": "teamminutesacrazurecrio-teamminutesacr",
          "server": "teamminutesacr.azurecr.io",
          "username": "teamminutesacr"
        }
      ],
      "runtime": null,
      "secrets": [
        {
          "name": "teamminutesacrazurecrio-teamminutesacr"
        }
      ],
      "service": null
    },
    "customDomainVerificationId": "F6FD72DD73BC590294B69D1B96B5363D99B424D268404C82EB09B49994CC7170",
    "delegatedIdentities": [],
    "environmentId": "/subscriptions/17f080ac-db85-4c7d-a12e-fc88bf22b2bc/resourceGroups/rg-teams-minutes-demo/providers/Microsoft.App/managedEnvironments/teams-minutes-env",
    "eventStreamEndpoint": "https://eastus2.azurecontainerapps.dev/subscriptions/17f080ac-db85-4c7d-a12e-fc88bf22b2bc/resourceGroups/rg-teams-minutes-demo/containerApps/teams-minutes-app/eventstream",
    "latestReadyRevisionName": "teams-minutes-app--ihojkvw",
    "latestRevisionFqdn": "teams-minutes-app--0000001.orangemushroom-b6a1517d.eastus2.azurecontainerapps.io",
    "latestRevisionName": "teams-minutes-app--0000001",
    "managedEnvironmentId": "/subscriptions/17f080ac-db85-4c7d-a12e-fc88bf22b2bc/resourceGroups/rg-teams-minutes-demo/providers/Microsoft.App/managedEnvironments/teams-minutes-env",
    "outboundIpAddresses": [
      "20.97.130.219",
      "20.69.200.68",
      "52.167.135.54",
      "52.184.149.238",
      "52.179.250.88",
      "52.184.149.147",
      "52.184.198.180",
      "52.184.138.179",
      "52.179.253.112",
      "52.184.190.79",
      "52.184.141.185",
      "52.184.151.206",
      "20.97.132.38",
      "4.153.163.131",
      "20.36.242.179",
      "20.36.243.222",
      "20.36.243.227",
      "20.36.243.208",
      "128.85.230.186",
      "4.153.163.156",
      "20.36.242.169",
      "4.153.163.201",
      "20.36.244.19",
      "20.97.133.137",
      "20.36.244.21",
      "20.36.243.201",
      "128.85.220.176",
      "128.85.212.114",
      "135.18.214.171",
      "20.85.91.213",
      "128.85.239.223",
      "4.153.23.192",
      "4.153.23.210",
      "4.153.23.204",
      "20.94.122.99",
      "4.153.23.173",
      "20.94.122.65",
      "20.94.122.133",
      "20.94.122.111",
      "20.94.122.70",
      "20.94.122.101",
      "20.1.250.250",
      "20.1.251.135",
      "20.7.131.26",
      "20.7.130.240",
      "20.7.131.54",
      "20.7.131.60",
      "20.7.131.34",
      "20.7.131.59",
      "20.7.131.44",
      "20.7.131.5",
      "20.7.131.39",
      "20.7.131.50",
      "20.1.251.104",
      "172.200.51.234",
      "172.200.52.27",
      "172.200.51.44",
      "172.200.51.235",
      "172.200.51.243",
      "172.200.51.45",
      "172.200.51.191",
      "172.200.51.242",
      "172.200.52.26",
      "172.200.51.190",
      "20.1.251.2",
      "13.68.118.203",
      "13.68.119.127",
      "52.184.147.35",
      "52.184.147.9",
      "20.94.111.32",
      "20.94.110.46",
      "135.18.222.88"
    ],
    "provisioningState": "Succeeded",
    "runningStatus": "Running",
    "template": {
      "containers": [
        {
          "env": [
            {
              "name": "NODE_ENV"
            },
            {
              "name": "DATABASE_URL"
            },
            {
              "name": "SESSION_SECRET"
            },
            {
              "name": "PORT"
            },
            {
              "name": "POSTGRES_ADMIN_USER"
            },
            {
              "name": "POSTGRES_ADMIN_PASSWORD",
              "value": ""
            },
            {
              "name": "POSTGRES_HOST"
            },
            {
              "name": "POSTGRES_DB",
              "value": ""
            },
            {
              "name": "MICROSOFT_APP_ID"
            },
            {
              "name": "MICROSOFT_APP_PASSWORD"
            },
            {
              "name": "GRAPH_CLIENT_ID"
            },
            {
              "name": "GRAPH_CLIENT_SECRET"
            },
            {
              "name": "GRAPH_TENANT_ID"
            },
            {
              "name": "AZURE_OPENAI_ENDPOINT"
            },
            {
              "name": "AZURE_OPENAI_API_KEY"
            },
            {
              "name": "AZURE_OPENAI_DEPLOYMENT_NAME"
            },
            {
              "name": "APPINSIGHTS_INSTRUMENTATIONKEY",
              "value": ""
            },
            {
              "name": "USE_MOCK_SERVICES"
            }
          ],
          "image": "teamminutesacr.azurecr.io/teams-minutes:latest",
          "name": "teams-minutes-app",
          "resources": {
            "cpu": 0.5,
            "ephemeralStorage": "2Gi",
            "memory": "1Gi"
          }
        }
      ],
      "initContainers": null,
      "revisionSuffix": "",
      "scale": {
        "cooldownPeriod": 300,
        "maxReplicas": 10,
        "minReplicas": null,
        "pollingInterval": 30,
        "rules": null
      },
      "serviceBinds": null,
      "terminationGracePeriodSeconds": null,
      "volumes": null
    },
    "workloadProfileName": "Consumption"
  },
  "resourceGroup": "rg-teams-minutes-demo",
  "systemData": {
    "createdAt": "2025-11-23T03:52:56.9443123",
    "createdBy": "ChristopherBecraft@ChrisBecraft.onmicrosoft.com",
    "createdByType": "User",
    "lastModifiedAt": "2025-11-23T16:23:33.0485876",
    "lastModifiedBy": "ChristopherBecraft@ChrisBecraft.onmicrosoft.com",
    "lastModifiedByType": "User"
  },
  "type": "Microsoft.App/containerApps"
}